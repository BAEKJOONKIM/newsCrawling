<html>
<head>
<meta charset='utf-8'>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <script>
        function getParameterByName(name) {
            name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
            return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }

        var a = new Date();
        var d = a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();
        var q = getParameterByName('q');
        $(document).ready(function(){
			
            $.get('http://cspro.sogang.ac.kr/~cse20140400/cgi-bin/Search.php?q='+q,function(data,status){
                if(data==""){

                }else{
                    document.getElementById('content').innerHTML=data;
                }
            })
            $.get('http://cspro.sogang.ac.kr/~cse20140400/cgi-bin/Search.php?d='+d,function(data,status){
                if(data==""){

                }else{
                    document.getElementById('words').innerHTML=data;
                }
            })
	    document.getElementById('tword').innerHTML=d;
	    document.getElementById('search').value=q;
	    $('#dayday').change(function(){
			var dd = $('#dayday').val();
			$.get('http://cspro.sogang.ac.kr/~cse20140400/cgi-bin/Search.php?d='+dd,function(data,status){
				if(data==""){
					document.getElementById('words').innerHTML='없습니다';
					document.getElementById('tword').innerHTML=dd;
				}
				else{
					document.getElementById('words').innerHTML=data;
					document.getElementById('tword').innerHTML=dd;
				}
			})
		})
        })
    </script>
    <div class='row'>
        <div class='col-1'></div>
        <div class='col-8'>
            <br>
            <div class='row' style='height:100px'>
                <div class="input-group input-group-lg">
                    <span class="input-group-addon" id="sizing-addon1">@</span>
                    <form class="row g-3" action='./ShowResult.html'>
                        <div class="col-auto"></div>     
                        <div class="col-auto">
                            <label for="inputPassword2" class="visually-hidden">Search</label>
                            <input type="text" class="form-control" id="search" name='q' placeholder="search">
                        </div>
                        <div class="col-auto">
                            <button type="submit" class="btn btn-primary mb-3">검색</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class='row' id='content'></div>
        </div>
        <div class='col-3'>
            <div class='row' style='height:100px'></div>
            <div class='row' id='tword'>오늘의검색어</div>
            <div class='row' id='words'></div>
	    <div class='row'><br>날짜 입력<br>
	    	<input type='date' id='dayday'>
	    </div>
	    <div class='row' id='nWords'></div>
        </div>
    </div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>	
</body>
</html>
